$imported: () !default;
@mixin import-once($file) {
    $imported: $imported !global;
    $index: index($imported, $file);
    @if (($index == null) or ($index == false)) {
        $imported: append($imported, $file);
        @content;
    }
}

@mixin lib-dialog() {
    @include import-once('lib-dialog') {
        .lib-dialog {
            display: none;
            position: fixed;

            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;

            background-color: rgba($ink, .5);

            .lib-dialog-content {
                position: relative;
                
                padding: 2em;
                margin: 4em 2em;

                color: $ink;
                background-color: $oldpaper;
                box-shadow: 2px 2px 5px rgba($ink, .75);

                height: calc(100vh - 8em);

                h1 {
                    font-family: Anton, sans-serif;
                }

                .content {
                    height: calc(100vh - 12em - 75px);

                    > .grid-x {
                        max-height: 100%;
                    }

                    .image {
                        width: 100%;
                        height: 100%;
                        overflow: hidden;
                        text-align: center;

                        .img {
                            max-height: 100%;
                            cursor: pointer;
                        }
                    }

                    .table {
                        margin: 0 10px;

                        th {
                            width: 150px;
                            text-align: right;
                        }
                    }

                    .tags {
                        .label {
                            margin: 5px;
                            cursor: pointer;

                            span {
                                margin-left: 5px;
                            }

                            &:hover {
                                background-color: darken($oldpaper, 65%);
                            }
                        }

                        input {
                            height: 25px;
                            line-height: 25px;
                            vertical-align: middle;

                            &:focus {
                                outline: none;
                            }
                        }
                    }
                }

                .controls {
                    position: absolute;
                    bottom: 2em;
                    right: 2em;

                    .button {
                        margin-bottom: 0;
                    }
                }

                .next-button, .prev-button {
                    font-size: 2em;
                    padding: 15px 10px;
                    background-color: darken($oldpaper, 25%);
                    box-shadow: 0px 0px 5px darken($oldpaper, 25%);

                    position: absolute;

                    top: calc(50% - 20px);
                    cursor: pointer;
                }

                .next-button {
                    right: -20px;
                }

                .prev-button {
                    left: -20px;
                }
            }

            &.open {
                display: block;
            }
        }
    }
}